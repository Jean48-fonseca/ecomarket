<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoMarket - ¬°FUNCIONAL!</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: linear-gradient(135deg, #60e1f5, #e0eafc); }
        .header { text-align: center; margin-bottom: 30px; }
        .header h1 { color: #2d3436; margin: 0; }
        .status { background: #d4edda; border: 1px solid #c3e6cb; padding: 15px; border-radius: 8px; margin-bottom: 30px; text-align: center; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; max-width: 1200px; margin: 0 auto; }
        .card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1); transition: transform 0.2s; }
        .card:hover { transform: translateY(-4px); }
        .card img { width: 100%; height: 200px; object-fit: cover; }
        .card-content { padding: 20px; }
        .card h3 { margin: 0 0 10px 0; color: #2d3436; font-size: 18px; }
        .card .price { font-size: 20px; font-weight: bold; color: #4ec8c2; margin-bottom: 8px; }
        .card .category { background: #eef6f6; color: #276e6a; padding: 4px 8px; border-radius: 12px; font-size: 12px; display: inline-block; margin-bottom: 10px; }
        .card .tags { margin-top: 10px; }
        .card .tag { background: #f1f3f4; color: #5f6368; padding: 3px 6px; border-radius: 8px; font-size: 11px; margin-right: 5px; display: inline-block; }
        .card button { width: 100%; padding: 12px; background: #4ec8c2; color: white; border: none; border-radius: 8px; font-size: 14px; cursor: pointer; margin-top: 15px; }
        .card button:hover { background: #3bb5a8; }
    </style>
</head>
<body>
    <div class="header">
        <h1>üå± EcoMarket</h1>
        <p>Tu mercado, en un clic</p>
    </div>
    
    <div class="status">
        <strong>Estado:</strong> <span id="status">Cargando productos...</span>
    </div>
    
    <div id="productGrid" class="grid"></div>

    <script>
        // Productos de prueba
        const productos = [
            {id:'v1', name:'Lechuga Romana', category:'verduras', price:1.6, unit:'pieza', img:'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=400&h=300&fit=crop', tags:['fresco','ensalada','verde','local']},
            {id:'v2', name:'Tomate', category:'verduras', price:1.9, unit:'kg', img:'https://images.unsplash.com/photo-1546470427-e26264be0b0d?w=400&h=300&fit=crop', tags:['ensalada','rojo','jugoso','oferta']},
            {id:'v3', name:'Zanahoria', category:'verduras', price:1.5, unit:'kg', img:'https://images.unsplash.com/photo-1598170845058-32b9d6a5da37?w=400&h=300&fit=crop', tags:['dulce','crujiente','ensalada']},
            {id:'f1', name:'Manzana Roja', category:'frutas', price:2.3, unit:'kg', img:'https://images.unsplash.com/photo-1560806887-1e4cd0b6cbd6?w=400&h=300&fit=crop', tags:['dulce','snack','jugo']},
            {id:'f2', name:'Pl√°tano', category:'frutas', price:1.7, unit:'kg', img:'https://images.unsplash.com/photo-1603833665858-e61d17a86224?w=400&h=300&fit=crop', tags:['desayuno','energia']},
            {id:'f3', name:'Naranja', category:'frutas', price:2.0, unit:'kg', img:'https://images.unsplash.com/photo-1547514701-42782101795e?w=400&h=300&fit=crop', tags:['jugo','vitamina-c','citricos']},
            {id:'l1', name:'Lentejas', category:'legumbres', price:2.6, unit:'kg', img:'https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400&h=300&fit=crop', tags:['proteina','fibra','organico']},
            {id:'l2', name:'Garbanzos', category:'legumbres', price:2.8, unit:'kg', img:'https://images.unsplash.com/photo-1596797038530-2c107229654b?w=400&h=300&fit=crop', tags:['hummus','proteina','fibra']},
        ];

        function renderizarProductos() {
            const grid = document.getElementById('productGrid');
            const status = document.getElementById('status');
            
            try {
                status.textContent = 'Renderizando productos...';
                grid.innerHTML = '';
                
                productos.forEach(producto => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `
                        <img src="${producto.img}" alt="${producto.name}" onerror="this.src='https://via.placeholder.com/400x300?text=${encodeURIComponent(producto.name)}'">
                        <div class="card-content">
                            <div class="category">${producto.category}</div>
                            <h3>${producto.name}</h3>
                            <div class="price">S/ ${producto.price}</div>
                            <div>por ${producto.unit}</div>
                            <div class="tags">
                                ${producto.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                            </div>
                            <button onclick="agregarAlCarrito('${producto.id}', '${producto.name}')">
                                Agregar al carrito üõí
                            </button>
                        </div>
                    `;
                    grid.appendChild(card);
                });
                
                status.textContent = `‚úÖ ${productos.length} productos cargados correctamente`;
                
            } catch (error) {
                status.textContent = `‚ùå Error: ${error.message}`;
                console.error('Error:', error);
            }
        }

        function agregarAlCarrito(id, name) {
            alert(`‚úÖ "${name}" agregado al carrito!`);
        }

        // Inicializar cuando la p√°gina est√© lista
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', renderizarProductos);
        } else {
            renderizarProductos();
        }
    </script>
</body>
</html>