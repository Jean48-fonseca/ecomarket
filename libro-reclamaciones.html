<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Libro de Reclamaciones - EcoMarket</title>
  <style>
    body{font-family:Arial,Helvetica,sans-serif;background:#f6fbff;color:#222;margin:0;padding:20px}
    .card{background:#fff;border-radius:10px;padding:18px;box-shadow:0 4px 18px rgba(0,0,0,0.06);margin-bottom:16px}
    label{display:block;margin:8px 0 4px;font-weight:600}
    input,select,textarea{width:100%;padding:10px;border:1px solid #dfe7ee;border-radius:6px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .actions{display:flex;gap:8px;margin-top:12px}
    .btn{background:#4ec8c2;color:#fff;border:none;padding:8px 12px;border-radius:6px;cursor:pointer}
    .btn.secondary{background:#6c757d}
    .help{color:#6c757d;padding:12px}
    #ok{display:none;padding:10px;background:#e6ffef;border:1px solid #b9f0d0;margin-top:8px}
    #err{color:#b72f2f;margin-top:8px}
    table{width:100%;border-collapse:collapse}
    th,td{padding:8px;border-bottom:1px solid #eee;text-align:left}
    pre{white-space:pre-wrap;background:#f3f6f8;padding:10px;border-radius:6px}
  </style>
</head>
<body>
  <h1>游늶 Libro de Reclamaciones</h1>

  <div class="card">
    <h3>Datos del proveedor</h3>
    <label>Nombre / Raz칩n social</label>
    <input id="provNombre" placeholder="Nombre del proveedor" />
    <label>RUC</label>
    <input id="provRuc" placeholder="RUC" />
    <label>Direcci칩n</label>
    <input id="provDir" placeholder="Direcci칩n" />
    <div class="actions">
      <button id="btnGuardarProv" class="btn">Guardar proveedor</button>
      <div id="provMsg" style="align-self:center;margin-left:8px;color:#2d7a53"></div>
    </div>
  </div>

  <div class="card">
    <h3>Registrar nuevo reclamo</h3>
    <form id="formReclamo">
      <div class="row">
        <div>
          <label for="tipoRegistro">Tipo</label>
          <select id="tipoRegistro">
            <option>Reclamo</option>
            <option>Queja</option>
            <option>Sugerencia</option>
          </select>
        </div>
        <div>
          <label for="fechaHecho">Fecha del hecho</label>
          <input id="fechaHecho" type="date" />
        </div>
      </div>

      <label for="monto">Monto (opcional)</label>
      <input id="monto" type="number" step="0.01" />

      <label for="nombres">Nombres y apellidos</label>
      <input id="nombres" />

      <div class="row">
        <div>
          <label for="tipoDoc">Tipo de documento</label>
          <select id="tipoDoc"><option>DNI</option><option>CE</option><option>RUC</option></select>
        </div>
        <div>
          <label for="numDoc">N칰mero de documento</label>
          <input id="numDoc" />
        </div>
      </div>

      <label for="direccion">Direcci칩n del consumidor</label>
      <input id="direccion" />

      <div class="row">
        <div>
          <label for="telefono">Tel칠fono</label>
          <input id="telefono" />
        </div>
        <div>
          <label for="email">Email</label>
          <input id="email" type="email" />
        </div>
      </div>

      <label for="detalle">Detalle del reclamo</label>
      <textarea id="detalle" rows="4"></textarea>

      <label for="pedido">Pedido / Referencia</label>
      <textarea id="pedido" rows="2"></textarea>

      <div class="actions">
        <button class="btn" type="submit">Registrar reclamo</button>
        <button id="btnLimpiar" type="button" class="btn secondary">Limpiar</button>
      </div>

      <div id="err"></div>
      <div id="ok"></div>
    </form>
  </div>

  <div class="card">
    <h3>Buscar reclamos</h3>
    <div class="row">
      <div>
        <label>Ticket</label>
        <input id="queryTicket" placeholder="LR-..." />
      </div>
      <div>
        <label>DNI</label>
        <input id="queryDni" placeholder="N칰mero de documento" />
      </div>
    </div>
    <div class="actions">
      <button id="btnBuscar" class="btn">Buscar</button>
      <button id="btnCsvAll" class="btn secondary">Exportar CSV</button>
      <button id="btnMisReclamos" class="btn secondary">Mis reclamos</button>
    </div>
    <div id="resultados" style="margin-top:12px"></div>
  </div>

  <!-- Modal simple para mostrar mis reclamos -->
  <div id="misReclamosModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.4);align-items:center;justify-content:center;padding:20px">
    <div style="background:#fff;padding:16px;border-radius:8px;max-width:800px;width:100%;max-height:80vh;overflow:auto;">
      <h3>Mis reclamos</h3>
      <div id="misReclamosLista"></div>
      <div id="detalleReclamo" style="margin-top:12px"></div>
      <div style="margin-top:12px;text-align:right"><button id="btnCerrarMisReclamos" class="btn secondary">Cerrar</button></div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="db.js"></script>
  <script src="libro.js"></script>
  <!-- jsPDF es opcional; si no est치, libro.js avisar치 al generar PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</body>
</html>
