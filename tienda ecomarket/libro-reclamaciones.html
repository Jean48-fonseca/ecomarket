<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Libro de Reclamaciones - EcoMarket</title>
  <style>
    :root{
      --primary:#4ec8c2; --accent:#d70606; --text:#2d3436; --muted:#6c757d;
    }
    body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;background:linear-gradient(135deg,#60e1f5,#e0eafc);min-height:100vh;color:var(--text)}
    .wrap{max-width:980px;margin:28px auto;background:#fff;border-radius:16px;box-shadow:0 8px 28px #0001;padding:20px}
    h1{margin:6px 0 16px;color:#4ec8c2}
    h2{margin:18px 0 10px}
    fieldset{border:1px solid #e9ecef;border-radius:12px;margin:12px 0;padding:12px}
    legend{padding:0 8px;color:#394046}
    label{display:block;margin:8px 0 4px;font-weight:600}
    input,select,textarea{width:100%;padding:10px 12px;border:1px solid #cfd6dc;border-radius:10px;outline:none}
    input:focus,select:focus,textarea:focus{border-color:#4ec8c2;box-shadow:0 0 0 3px rgba(78,200,194,.15)}
    textarea{min-height:96px;resize:vertical}
    .row{display:grid;gap:10px}
    @media(min-width:720px){.row.cols-2{grid-template-columns:1fr 1fr}.row.cols-3{grid-template-columns:1fr 1fr 1fr}}
    .btn{display:inline-flex;align-items:center;gap:8px;background:#4ec8c2;color:#fff;border:none;border-radius:10px;padding:10px 16px;cursor:pointer}
    .btn.secondary{background:#6c757d}
    .btn.warn{background:#d70606}
    .help{font-size:13px;color:var(--muted)}
    .note{background:#f8f9fa;border:1px solid #e9ecef;border-radius:10px;padding:10px;font-size:14px}
    .error{color:#d70606;margin:8px 0}
    table{width:100%;border-collapse:collapse;margin-top:10px}
    th,td{padding:8px 10px;border-bottom:1px solid #eee;text-align:left}
    th{background:#f4f9fb}
    .topbar{display:flex;justify-content:space-between;align-items:center;gap:10px;margin-bottom:10px}
    a{color:#4ec8c2}
  </style>
  <!-- jsPDF para generar PDF en el navegador -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" integrity="sha512-8nGv1i4j6Q9R6eYd3lV9Hj3z+7J7yG9W1A0t3R1l2bYqU1ThXW0yJr2Q3gCqW4E5jKXy7k1b1m6cQF2wQ3S2kg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script defer src="libro.js"></script>
  <meta name="description" content="Formato digital del Libro de Reclamaciones conforme a normativa peruana." />
  <meta name="robots" content="noindex,nofollow" />
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <h1>Libro de Reclamaciones</h1>
      <a href="Untitled-1.html" title="Volver a EcoMarket">Volver a EcoMarket</a>
    </div>

    <p class="note">
      Conforme al Decreto Supremo N° 001-2006-PCM y modificatorias, este formulario permite registrar reclamos y quejas de consumidores.
    </p>

    <fieldset>
      <legend>Datos del proveedor (obligatorio)</legend>
      <div class="row cols-3">
        <div><label for="provNombre">Nombre/Razón social</label><input id="provNombre" type="text" placeholder="Ej. EcoMarket S.A.C." required /></div>
        <div><label for="provRuc">RUC</label><input id="provRuc" type="text" placeholder="Ej. 20XXXXXXXXXXX" required /></div>
        <div><label for="provDir">Dirección del establecimiento</label><input id="provDir" type="text" placeholder="Ej. Av. Siempre Viva 123" required /></div>
      </div>
      <div style="margin-top:10px;display:flex;gap:8px">
        <button class="btn" id="btnGuardarProv" type="button">Guardar datos del proveedor</button>
        <span class="help">Se guardan en este navegador.</span>
      </div>
      <div id="provMsg" class="help"></div>
    </fieldset>

    <fieldset>
      <legend>Registrar reclamo/queja</legend>
      <form id="formReclamo" novalidate>
        <div class="row cols-3">
          <div>
            <label>Tipo de registro</label>
            <select id="tipoRegistro" required>
              <option value="Reclamo">Reclamo</option>
              <option value="Queja">Queja</option>
            </select>
          </div>
          <div>
            <label for="fechaHecho">Fecha del hecho</label>
            <input id="fechaHecho" type="date" required />
          </div>
          <div>
            <label for="monto">Monto reclamado (opcional)</label>
            <input id="monto" type="number" step="0.01" min="0" placeholder="0.00" />
          </div>
        </div>

        <h2>Datos del consumidor</h2>
        <div class="row cols-2">
          <div><label for="nombres">Nombres y apellidos</label><input id="nombres" type="text" required /></div>
          <div>
            <label for="tipoDoc">Tipo de documento</label>
            <select id="tipoDoc" required>
              <option value="DNI">DNI</option>
              <option value="CE">CE</option>
              <option value="Pasaporte">Pasaporte</option>
              <option value="Otro">Otro</option>
            </select>
          </div>
        </div>
        <div class="row cols-3">
          <div><label for="numDoc">Número de documento</label><input id="numDoc" type="text" required /></div>
          <div><label for="telefono">Teléfono (opcional)</label><input id="telefono" type="tel" placeholder="" /></div>
          <div><label for="email">Correo (opcional)</label><input id="email" type="email" placeholder="" /></div>
        </div>
        <div class="row">
          <div><label for="direccion">Dirección completa</label><input id="direccion" type="text" required /></div>
        </div>

        <h2>Detalle</h2>
        <div class="row">
          <div><label for="detalle">Detalle de la queja/reclamo</label><textarea id="detalle" required placeholder="Descripción clara y precisa"></textarea></div>
          <div><label for="pedido">Pedido del consumidor</label><textarea id="pedido" required placeholder="¿Qué espera que se resuelva?"></textarea></div>
        </div>

        <div id="err" class="error" role="alert" aria-live="polite"></div>
        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:8px">
          <button class="btn" type="submit">Registrar reclamo</button>
          <button class="btn secondary" id="btnLimpiar" type="button">Limpiar</button>
        </div>
      </form>
      <div id="ok" class="note" style="display:none;margin-top:10px"></div>
    </fieldset>

    <fieldset>
      <legend>Consultar reclamos</legend>
      <div class="row cols-3">
        <div><label for="queryTicket">N° de ticket</label><input id="queryTicket" type="text" placeholder="LR-..." /></div>
        <div><label for="queryDni">DNI/Documento</label><input id="queryDni" type="text" placeholder="" /></div>
        <div style="display:flex;align-items:end;gap:8px;">
          <button class="btn" id="btnBuscar" type="button">Buscar</button>
          <button class="btn secondary" id="btnCsvAll" type="button">Descargar CSV (todos)</button>
        </div>
      </div>
      <div id="resultados"></div>
    </fieldset>

    <p class="help">Estado inicial de cada reclamo: "Pendiente". Se notificará al consumidor según los canales ingresados.</p>
  </div>
</body>
</html>
